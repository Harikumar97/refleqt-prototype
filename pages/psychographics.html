<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refleqt Psychographics - TaskFlow Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f8f9fa;
            color: #2d3748;
        }

        /* Main Content */
        .main-content {
            padding: 30px;
            width: 100%;
        }

        .psychographics-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .psychographics-header::before {
            content: '';
            position: absolute;
            top: -30%;
            right: -10%;
            width: 150%;
            height: 150%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="3" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="30" r="2" fill="rgba(255,255,255,0.08)"/><circle cx="40" cy="70" r="4" fill="rgba(255,255,255,0.06)"/><circle cx="90" cy="80" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
            animation: psychographicFloat 30s infinite linear;
        }

        @keyframes psychographicFloat {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(180deg); }
            100% { transform: translateY(0) rotate(360deg); }
        }

        .psychographics-title {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 12px;
            position: relative;
            z-index: 1;
        }

        .psychographics-subtitle {
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .psychographics-layout {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 30px;
        }

        /* User Segments Overview */
        .segments-overview {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .overview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .overview-title {
            font-size: 20px;
            font-weight: bold;
            color: #2d3748;
        }

        .segments-filter {
            display: flex;
            gap: 8px;
        }

        .filter-btn {
            padding: 6px 12px;
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-color: transparent;
        }

        .segments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .segment-card {
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .segment-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(79, 172, 254, 0.15);
            border-color: #4facfe;
        }

        .segment-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
        }

        .segment-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .segment-name {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 4px;
        }

        .segment-tagline {
            font-size: 14px;
            color: #718096;
            font-style: italic;
        }

        .segment-percentage {
            font-size: 24px;
            font-weight: bold;
            color: #4facfe;
        }

        .segment-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .stat-item {
            text-align: center;
            background: #f7fafc;
            border-radius: 8px;
            padding: 8px;
        }

        .stat-value {
            font-size: 16px;
            font-weight: bold;
            color: #2d3748;
        }

        .stat-label {
            font-size: 11px;
            color: #718096;
            text-transform: uppercase;
        }

        .segment-traits {
            margin-bottom: 16px;
        }

        .traits-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .traits-list {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .trait-tag {
            background: #e6f7ff;
            color: #1890ff;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .segment-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 6px 12px;
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-btn:hover {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        .action-btn.primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-color: transparent;
        }

        /* Journey Mapping */
        .journey-mapping {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .journey-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .journey-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .journey-tab {
            padding: 8px 16px;
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .journey-tab.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-color: transparent;
        }

        .journey-stages {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .journey-stage {
            background: #f7fafc;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
        }

        .journey-stage:hover {
            background: #e6f7ff;
            transform: translateY(-2px);
        }

        .journey-stage.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .stage-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .stage-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .stage-conversion {
            font-size: 12px;
            opacity: 0.8;
        }

        .journey-details {
            background: #f7fafc;
            border-radius: 12px;
            padding: 20px;
        }

        .stage-details-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #2d3748;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .detail-section {
            background: white;
            border-radius: 8px;
            padding: 12px;
        }

        .detail-section h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .detail-list {
            list-style: none;
            font-size: 13px;
            color: #4a5568;
        }

        .detail-list li {
            margin-bottom: 4px;
            padding-left: 12px;
            position: relative;
        }

        .detail-list li::before {
            content: '•';
            color: #4facfe;
            position: absolute;
            left: 0;
        }

        /* Psychographic Control Panel */
        .psychographic-control-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .segment-analytics {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .analytics-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #2d3748;
        }

        .conversion-funnel {
            margin-bottom: 20px;
        }

        .funnel-stage {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .funnel-bar {
            flex: 1;
            height: 20px;
            background: #f1f5f9;
            border-radius: 10px;
            overflow: hidden;
            margin: 0 12px;
        }

        .funnel-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            transition: width 0.5s ease;
        }

        .funnel-label {
            font-size: 12px;
            color: #718096;
            min-width: 80px;
        }

        .funnel-value {
            font-size: 12px;
            font-weight: 600;
            color: #2d3748;
            min-width: 40px;
        }

        .behavior-patterns {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .pattern-item {
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 8px;
            transition: all 0.3s;
        }

        .pattern-item:hover {
            border-color: #4facfe;
            background: #f0f9ff;
        }

        .pattern-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 4px;
        }

        .pattern-description {
            font-size: 12px;
            color: #718096;
        }

        .segment-insights {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .insight-item {
            padding: 12px;
            border-left: 4px solid #4facfe;
            background: #f0f9ff;
            border-radius: 0 8px 8px 0;
            margin-bottom: 12px;
        }

        .insight-text {
            font-size: 14px;
            color: #2d3748;
            line-height: 1.5;
        }

        .insight-impact {
            font-size: 12px;
            color: #718096;
            margin-top: 4px;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 4000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 30px;
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: all 0.3s ease;
        }

        .modal-overlay.show .modal-content {
            transform: scale(1);
        }

        .segment-analysis {
            display: grid;
            gap: 24px;
        }

        .analysis-section {
            background: #f7fafc;
            border-radius: 12px;
            padding: 20px;
        }

        .analysis-section h3 {
            color: #2d3748;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .persona-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .persona-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .persona-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .persona-info h4 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
            color: #2d3748;
        }

        .persona-role {
            color: #718096;
            font-size: 14px;
        }

        .persona-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .detail-group {
            background: #f7fafc;
            border-radius: 8px;
            padding: 12px;
        }

        .detail-group h5 {
            font-size: 12px;
            font-weight: 600;
            color: #718096;
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        .messaging-strategies {
            display: grid;
            gap: 12px;
        }

        .strategy-item {
            background: white;
            border: 1px solid #e2e8f0;
            border-left: 4px solid #4facfe;
            border-radius: 8px;
            padding: 16px;
        }

        .strategy-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .strategy-description {
            font-size: 14px;
            color: #4a5568;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .strategy-example {
            background: #f0f9ff;
            border-radius: 6px;
            padding: 8px;
            font-size: 13px;
            color: #1e40af;
            font-style: italic;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .psychographics-layout {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }

            .segments-grid {
                grid-template-columns: 1fr;
            }

            .journey-stages {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Animations */
        .loading-psychographic {
            animation: psychographicPulse 2s infinite;
        }

        @keyframes psychographicPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.02); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Main App Component
        function App() {
            const [activeSegment, setActiveSegment] = useState('trial-abandoners');
            const [activeJourneyStage, setActiveJourneyStage] = useState('awareness');
            const [segmentFilter, setSegmentFilter] = useState('all');
            const [showModal, setShowModal] = useState(false);
            const [modalContent, setModalContent] = useState(null);
            const [obsessionScore, setObsessionScore] = useState(8.7);

            const userSegments = [
                {
                    id: 'trial-abandoners',
                    name: 'Trial Abandoners',
                    tagline: 'Overwhelmed by complexity',
                    percentage: 34,
                    size: '2.1K users',
                    conversionRate: '3.2%',
                    avgValue: '$89',
                    retentionRate: '12%',
                    traits: ['Feature-overwhelmed', 'Price-sensitive', 'Comparison shoppers', 'Mobile-first'],
                    painPoints: ['Too many features shown upfront', 'Unclear pricing structure', 'Complex onboarding'],
                    motivations: ['Simple solution', 'Clear value', 'Quick setup'],
                    behaviors: ['Abandons at feature selection', 'Researches competitors', 'Prefers video demos']
                },
                {
                    id: 'power-customizers',
                    name: 'Power Customizers', 
                    tagline: 'Enterprise potential users',
                    percentage: 23,
                    size: '1.4K users',
                    conversionRate: '67%',
                    avgValue: '$340',
                    retentionRate: '94%',
                    traits: ['Tech-savvy', 'Customization-focused', 'Integration-heavy', 'Growth-oriented'],
                    painPoints: ['Limited customization options', 'Missing advanced features', 'Integration gaps'],
                    motivations: ['Scalability', 'Customization', 'Advanced features'],
                    behaviors: ['Heavy feature usage', 'API exploration', 'Community engagement']
                },
                {
                    id: 'quick-starters',
                    name: 'Quick Starters',
                    tagline: 'Template-seeking teams',
                    percentage: 28,
                    size: '1.7K users', 
                    conversionRate: '45%',
                    avgValue: '$156',
                    retentionRate: '78%',
                    traits: ['Template-focused', 'Team-oriented', 'Efficiency-driven', 'Growth-minded'],
                    painPoints: ['Lack of ready templates', 'Time to first value', 'Team collaboration barriers'],
                    motivations: ['Speed to value', 'Team productivity', 'Easy collaboration'],
                    behaviors: ['Seeks templates first', 'Invites team quickly', 'Values pre-built solutions']
                },
                {
                    id: 'enterprise-evaluators',
                    name: 'Enterprise Evaluators',
                    tagline: 'Large team decision makers',
                    percentage: 15,
                    size: '900 users',
                    conversionRate: '78%', 
                    avgValue: '$890',
                    retentionRate: '89%',
                    traits: ['Security-conscious', 'Compliance-focused', 'ROI-driven', 'Process-oriented'],
                    painPoints: ['Security concerns', 'Compliance requirements', 'Integration complexity'],
                    motivations: ['Enterprise features', 'Security compliance', 'Scalability'],
                    behaviors: ['Long evaluation cycles', 'Requires demos', 'Security audits']
                }
            ];

            const journeyStages = [
                {
                    id: 'awareness',
                    name: 'Awareness',
                    icon: '👁️',
                    conversion: '8.2%'
                },
                {
                    id: 'consideration', 
                    name: 'Consideration',
                    icon: '🤔',
                    conversion: '23.1%'
                },
                {
                    id: 'trial',
                    name: 'Trial',
                    icon: '🔬',
                    conversion: '34.5%'
                },
                {
                    id: 'conversion',
                    name: 'Conversion', 
                    icon: '💳',
                    conversion: '15.6%'
                },
                {
                    id: 'retention',
                    name: 'Retention',
                    icon: '🔄',
                    conversion: '67.8%'
                }
            ];

            const getStageDetails = (segmentId, stageId) => {
                const stageData = {
                    'trial-abandoners': {
                        'awareness': {
                            touchpoints: ['Google search', 'Competitor comparison', 'Product Hunt', 'Social media'],
                            painPoints: ['Information overload', 'Too many options', 'Unclear differentiation'],
                            emotions: ['Overwhelmed', 'Curious', 'Skeptical'],
                            actions: ['Research multiple tools', 'Read reviews', 'Compare features', 'Seek recommendations']
                        },
                        'trial': {
                            touchpoints: ['Signup form', 'Onboarding flow', 'Feature tour', 'Help documentation'], 
                            painPoints: ['Complex setup', 'Too many features', 'Unclear value', 'Time investment'],
                            emotions: ['Confused', 'Frustrated', 'Hopeful', 'Impatient'],
                            actions: ['Skip tutorial', 'Explore randomly', 'Abandon quickly', 'Seek simpler alternatives']
                        }
                    },
                    'power-customizers': {
                        'trial': {
                            touchpoints: ['Advanced features', 'API documentation', 'Customization options', 'Integrations'],
                            painPoints: ['Limited customization', 'Missing advanced features', 'Integration complexity'],
                            emotions: ['Excited', 'Analytical', 'Demanding', 'Goal-oriented'],
                            actions: ['Test all features', 'Explore API', 'Contact support', 'Request features']
                        }
                    }
                };
                return stageData[segmentId]?.[stageId] || {
                    touchpoints: ['Loading...'],
                    painPoints: ['Loading...'],
                    emotions: ['Loading...'], 
                    actions: ['Loading...']
                };
            };

            const viewSegmentDetails = (segment) => {
                setModalContent({
                    title: `Deep Dive: ${segment.name}`,
                    segment: segment
                });
                setShowModal(true);
            };

            const filteredSegments = userSegments.filter(segment => {
                if (segmentFilter === 'all') return true;
                if (segmentFilter === 'high-value') return parseFloat(segment.avgValue.replace('$', '')) > 200;
                if (segmentFilter === 'high-conversion') return parseFloat(segment.conversionRate) > 40;
                if (segmentFilter === 'at-risk') return parseFloat(segment.retentionRate) < 50;
                return true;
            });

            return (
                <div className="main-content">
                    <div className="psychographics-header">
                        <h1 className="psychographics-title">🧠 Psychographics</h1>
                        <p className="psychographics-subtitle">
                            Deep user behavioral analysis and segmentation for conversion optimization
                        </p>
                    </div>

                    <div className="psychographics-layout">
                        <div>
                            <SegmentsOverview
                                segments={filteredSegments}
                                segmentFilter={segmentFilter}
                                setSegmentFilter={setSegmentFilter}
                                onViewDetails={viewSegmentDetails}
                            />

                            <JourneyMapping
                                activeSegment={activeSegment}
                                setActiveSegment={setActiveSegment}
                                activeJourneyStage={activeJourneyStage}
                                setActiveJourneyStage={setActiveJourneyStage}
                                journeyStages={journeyStages}
                                userSegments={userSegments}
                                getStageDetails={getStageDetails}
                            />
                        </div>

                        <PsychographicControlPanel 
                            userSegments={userSegments}
                            activeSegment={activeSegment}
                        />
                    </div>

                    <SegmentDetailsModal
                        show={showModal}
                        onClose={() => setShowModal(false)}
                        content={modalContent}
                    />
                </div>
            );
        }

        // Segments Overview Component
        function SegmentsOverview({ segments, segmentFilter, setSegmentFilter, onViewDetails }) {
            const filterOptions = [
                { id: 'all', name: 'All Segments' },
                { id: 'high-value', name: 'High Value' },
                { id: 'high-conversion', name: 'High Conversion' },
                { id: 'at-risk', name: 'At Risk' }
            ];

            return (
                <div className="segments-overview">
                    <div className="overview-header">
                        <h2 className="overview-title">📊 User Segments Overview</h2>
                        <div className="segments-filter">
                            {filterOptions.map(option => (
                                <button
                                    key={option.id}
                                    className={`filter-btn ${segmentFilter === option.id ? 'active' : ''}`}
                                    onClick={() => setSegmentFilter(option.id)}
                                >
                                    {option.name}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="segments-grid">
                        {segments.map(segment => (
                            <SegmentCard
                                key={segment.id}
                                segment={segment}
                                onViewDetails={() => onViewDetails(segment)}
                            />
                        ))}
                    </div>
                </div>
            );
        }

        // Segment Card Component
        function SegmentCard({ segment, onViewDetails }) {
            return (
                <div className="segment-card" onClick={onViewDetails}>
                    <div className="segment-header">
                        <div>
                            <div className="segment-name">{segment.name}</div>
                            <div className="segment-tagline">{segment.tagline}</div>
                        </div>
                        <div className="segment-percentage">{segment.percentage}%</div>
                    </div>

                    <div className="segment-stats">
                        <div className="stat-item">
                            <div className="stat-value">{segment.size}</div>
                            <div className="stat-label">Users</div>
                        </div>
                        <div className="stat-item">
                            <div className="stat-value">{segment.conversionRate}</div>
                            <div className="stat-label">Conversion</div>
                        </div>
                        <div className="stat-item">
                            <div className="stat-value">{segment.avgValue}</div>
                            <div className="stat-label">Avg Value</div>
                        </div>
                    </div>

                    <div className="segment-traits">
                        <div className="traits-title">Key Traits</div>
                        <div className="traits-list">
                            {segment.traits.slice(0, 4).map((trait, index) => (
                                <span key={index} className="trait-tag">{trait}</span>
                            ))}
                        </div>
                    </div>

                    <div className="segment-actions">
                        <button className="action-btn primary">View Details</button>
                        <button className="action-btn">Create Campaign</button>
                        <button className="action-btn">A/B Test</button>
                    </div>
                </div>
            );
        }

        // Journey Mapping Component
        function JourneyMapping({ 
            activeSegment, 
            setActiveSegment, 
            activeJourneyStage, 
            setActiveJourneyStage, 
            journeyStages, 
            userSegments, 
            getStageDetails 
        }) {
            const currentSegment = userSegments.find(s => s.id === activeSegment);
            const stageDetails = getStageDetails(activeSegment, activeJourneyStage);

            return (
                <div className="journey-mapping">
                    <div className="journey-header">
                        <h2 style={{fontSize: '20px', fontWeight: 'bold', color: '#2d3748'}}>
                            🗺️ Customer Journey Mapping
                        </h2>
                    </div>

                    <div className="journey-selector">
                        {userSegments.map(segment => (
                            <button
                                key={segment.id}
                                className={`journey-tab ${activeSegment === segment.id ? 'active' : ''}`}
                                onClick={() => setActiveSegment(segment.id)}
                            >
                                {segment.name}
                            </button>
                        ))}
                    </div>

                    <div className="journey-stages">
                        {journeyStages.map(stage => (
                            <div
                                key={stage.id}
                                className={`journey-stage ${activeJourneyStage === stage.id ? 'active' : ''}`}
                                onClick={() => setActiveJourneyStage(stage.id)}
                            >
                                <div className="stage-icon">{stage.icon}</div>
                                <div className="stage-name">{stage.name}</div>
                                <div className="stage-conversion">{stage.conversion}</div>
                            </div>
                        ))}
                    </div>

                    <div className="journey-details">
                        <div className="stage-details-title">
                            {journeyStages.find(s => s.id === activeJourneyStage)?.name} Stage: {currentSegment?.name}
                        </div>
                        
                        <div className="details-grid">
                            <div className="detail-section">
                                <h4>🎯 Key Touchpoints</h4>
                                <ul className="detail-list">
                                    {stageDetails.touchpoints.map((point, index) => (
                                        <li key={index}>{point}</li>
                                    ))}
                                </ul>
                            </div>

                            <div className="detail-section">
                                <h4>😣 Pain Points</h4>
                                <ul className="detail-list">
                                    {stageDetails.painPoints.map((pain, index) => (
                                        <li key={index}>{pain}</li>
                                    ))}
                                </ul>
                            </div>

                            <div className="detail-section">
                                <h4>💭 Emotional State</h4>
                                <ul className="detail-list">
                                    {stageDetails.emotions.map((emotion, index) => (
                                        <li key={index}>{emotion}</li>
                                    ))}
                                </ul>
                            </div>

                            <div className="detail-section">
                                <h4>⚡ Key Actions</h4>
                                <ul className="detail-list">
                                    {stageDetails.actions.map((action, index) => (
                                        <li key={index}>{action}</li>
                                    ))}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Psychographic Control Panel Component
        function PsychographicControlPanel({ userSegments, activeSegment }) {
            const currentSegment = userSegments.find(s => s.id === activeSegment);

            const conversionFunnelData = [
                { stage: 'Visitor', rate: 100 },
                { stage: 'Signup', rate: 34 },
                { stage: 'Trial', rate: 23 },
                { stage: 'Conversion', rate: 8 },
                { stage: 'Active', rate: 6 }
            ];

            const behaviorPatterns = [
                {
                    title: 'Feature Discovery Pattern',
                    description: '67% explore advanced features within first 3 days'
                },
                {
                    title: 'Support Engagement',
                    description: 'High-converting users engage support 2.3x more'
                },
                {
                    title: 'Mobile Usage Preference', 
                    description: '43% of trials start on mobile but convert on desktop'
                },
                {
                    title: 'Team Invitation Timing',
                    description: 'Users who invite teammates in first week convert 4x more'
                }
            ];

            const segmentInsights = [
                {
                    text: 'Trial Abandoners need simpler onboarding with progressive disclosure',
                    impact: 'Potential 15-20% conversion improvement'
                },
                {
                    text: 'Power Customizers drive 67% conversion when features match needs',
                    impact: 'Focus on advanced feature showcase'
                },
                {
                    text: 'Quick Starters respond to template-first approach',
                    impact: '45% conversion with ready-made solutions'
                },
                {
                    text: 'Enterprise Evaluators need security-focused messaging',
                    impact: '78% conversion with compliance emphasis'
                }
            ];

            return (
                <div className="psychographic-control-panel">
                    <div className="segment-analytics">
                        <h3 className="analytics-title">📊 Conversion Analytics</h3>
                        
                        <div className="conversion-funnel">
                            {conversionFunnelData.map((stage, index) => (
                                <div key={index} className="funnel-stage">
                                    <div className="funnel-label">{stage.stage}</div>
                                    <div className="funnel-bar">
                                        <div 
                                            className="funnel-fill"
                                            style={{width: `${stage.rate}%`}}
                                        ></div>
                                    </div>
                                    <div className="funnel-value">{stage.rate}%</div>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div className="behavior-patterns">
                        <h3 className="analytics-title">🔍 Behavior Patterns</h3>
                        {behaviorPatterns.map((pattern, index) => (
                            <div key={index} className="pattern-item">
                                <div className="pattern-title">{pattern.title}</div>
                                <div className="pattern-description">{pattern.description}</div>
                            </div>
                        ))}
                    </div>

                    <div className="segment-insights">
                        <h3 className="analytics-title">💡 Actionable Insights</h3>
                        {segmentInsights.map((insight, index) => (
                            <div key={index} className="insight-item">
                                <div className="insight-text">{insight.text}</div>
                                <div className="insight-impact">— {insight.impact}</div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // Segment Details Modal Component
        function SegmentDetailsModal({ show, onClose, content }) {
            if (!content) return null;

            const { segment } = content;

            const personas = [
                {
                    name: segment.name === 'Trial Abandoners' ? 'Sarah Mitchell' : 
                          segment.name === 'Power Customizers' ? 'David Chen' :
                          segment.name === 'Quick Starters' ? 'Maria Rodriguez' : 'John Thompson',
                    role: segment.name === 'Trial Abandoners' ? 'Startup Founder' :
                          segment.name === 'Power Customizers' ? 'Engineering Manager' :
                          segment.name === 'Quick Starters' ? 'Marketing Director' : 'VP of Operations',
                    avatar: segment.name === 'Trial Abandoners' ? '👩' :
                            segment.name === 'Power Customizers' ? '👨' :
                            segment.name === 'Quick Starters' ? '👩' : '👨',
                    demographics: {
                        age: segment.name === 'Trial Abandoners' ? '28-35' : 
                             segment.name === 'Power Customizers' ? '32-40' :
                             segment.name === 'Quick Starters' ? '30-38' : '40-50',
                        company: segment.name === 'Trial Abandoners' ? 'Early-stage startup' :
                                segment.name === 'Power Customizers' ? 'Tech company 50+ employees' :
                                segment.name === 'Quick Starters' ? 'Growing SMB' : 'Enterprise 500+ employees',
                        experience: segment.name === 'Trial Abandoners' ? 'First-time PM tool user' :
                                   segment.name === 'Power Customizers' ? 'Advanced PM tool user' :
                                   segment.name === 'Quick Starters' ? 'Moderate PM experience' : 'Extensive PM experience'
                    },
                    goals: segment.name === 'Trial Abandoners' ? 
                           ['Simple project organization', 'Quick team coordination', 'Low learning curve'] :
                           segment.name === 'Power Customizers' ?
                           ['Advanced customization', 'Complex workflow automation', 'Integration capabilities'] :
                           segment.name === 'Quick Starters' ?
                           ['Fast implementation', 'Template-based setup', 'Team collaboration'] :
                           ['Enterprise security', 'Compliance requirements', 'Scalability'],
                    frustrations: segment.painPoints
                }
            ];

            const messagingStrategies = [
                {
                    title: segment.name === 'Trial Abandoners' ? 'Simplicity-First Messaging' :
                           segment.name === 'Power Customizers' ? 'Feature-Rich Positioning' :
                           segment.name === 'Quick Starters' ? 'Speed-to-Value Focus' : 'Enterprise-Grade Assurance',
                    description: segment.name === 'Trial Abandoners' ? 
                                'Emphasize ease of use, minimal setup, and intuitive interface. Avoid feature overload.' :
                                segment.name === 'Power Customizers' ?
                                'Highlight advanced features, customization options, and integration capabilities.' :
                                segment.name === 'Quick Starters' ?
                                'Focus on templates, fast setup, and immediate productivity gains.' :
                                'Emphasize security, compliance, scalability, and enterprise support.',
                    example: segment.name === 'Trial Abandoners' ?
                             '"Get your team organized in under 5 minutes. No complex setup, no overwhelming features."' :
                             segment.name === 'Power Customizers' ?
                             '"Unlimited customization meets powerful automation. Build exactly what your team needs."' :
                             segment.name === 'Quick Starters' ?
                             '"50+ ready-made templates. Get productive on day one, not day thirty."' :
                             '"Enterprise-grade security meets unlimited scalability. SOC2 compliant from day one."'
                },
                {
                    title: segment.name === 'Trial Abandoners' ? 'Progressive Disclosure' :
                           segment.name === 'Power Customizers' ? 'Advanced Feature Tours' :
                           segment.name === 'Quick Starters' ? 'Template Showcase' : 'ROI-Focused Demos',
                    description: segment.name === 'Trial Abandoners' ?
                                'Reveal features gradually. Start with core functionality, add complexity over time.' :
                                segment.name === 'Power Customizers' ?
                                'Deep-dive into advanced capabilities. Show API documentation, automation examples.' :
                                segment.name === 'Quick Starters' ?
                                'Lead with templates. Show how quickly teams can get started with pre-built solutions.' :
                                'Focus on business impact. Show compliance features, security certifications, scalability metrics.',
                    example: segment.name === 'Trial Abandoners' ?
                             'Onboarding: Step 1 - Create project, Step 2 - Add team, Step 3 - Success! (Advanced features come later)' :
                             segment.name === 'Power Customizers' ?
                             'Welcome tour: "Let\'s explore our API, automation rules, and custom field types..."' :
                             segment.name === 'Quick Starters' ?
                             'Onboarding: "Choose your template: Marketing Campaign, Product Launch, or Event Planning"' :
                             'Demo flow: "Here\'s how we help Fortune 500 companies save 40% on project management overhead..."'
                }
            ];

            return (
                <div className={`modal-overlay ${show ? 'show' : ''}`} onClick={onClose}>
                    <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px'}}>
                            <h2 style={{fontSize: '24px', fontWeight: 'bold', color: '#2d3748'}}>
                                🧠 {content.title}
                            </h2>
                            <button 
                                onClick={onClose}
                                style={{background: 'none', border: 'none', fontSize: '24px', cursor: 'pointer', color: '#a0aec0'}}
                            >
                                ×
                            </button>
                        </div>

                        <div className="segment-analysis">
                            <div className="analysis-section">
                                <h3>📊 Segment Overview</h3>
                                <div style={{display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '16px', marginBottom: '16px'}}>
                                    <div style={{textAlign: 'center', background: 'white', padding: '12px', borderRadius: '8px'}}>
                                        <div style={{fontSize: '24px', fontWeight: 'bold', color: '#4facfe'}}>{segment.percentage}%</div>
                                        <div style={{fontSize: '12px', color: '#718096'}}>of total users</div>
                                    </div>
                                    <div style={{textAlign: 'center', background: 'white', padding: '12px', borderRadius: '8px'}}>
                                        <div style={{fontSize: '24px', fontWeight: 'bold', color: '#4facfe'}}>{segment.size}</div>
                                        <div style={{fontSize: '12px', color: '#718096'}}>total users</div>
                                    </div>
                                    <div style={{textAlign: 'center', background: 'white', padding: '12px', borderRadius: '8px'}}>
                                        <div style={{fontSize: '24px', fontWeight: 'bold', color: '#4facfe'}}>{segment.conversionRate}</div>
                                        <div style={{fontSize: '12px', color: '#718096'}}>conversion rate</div>
                                    </div>
                                    <div style={{textAlign: 'center', background: 'white', padding: '12px', borderRadius: '8px'}}>
                                        <div style={{fontSize: '24px', fontWeight: 'bold', color: '#4facfe'}}>{segment.avgValue}</div>
                                        <div style={{fontSize: '12px', color: '#718096'}}>average LTV</div>
                                    </div>
                                </div>
                            </div>

                            <div className="analysis-section">
                                <h3>👤 Representative Persona</h3>
                                {personas.map((persona, index) => (
                                    <div key={index} className="persona-card">
                                        <div className="persona-header">
                                            <div className="persona-avatar">{persona.avatar}</div>
                                            <div className="persona-info">
                                                <h4>{persona.name}</h4>
                                                <div className="persona-role">{persona.role}</div>
                                            </div>
                                        </div>
                                        <div className="persona-details">
                                            <div className="detail-group">
                                                <h5>Demographics</h5>
                                                <div style={{fontSize: '14px', color: '#4a5568'}}>
                                                    Age: {persona.demographics.age}<br/>
                                                    Company: {persona.demographics.company}<br/>
                                                    Experience: {persona.demographics.experience}
                                                </div>
                                            </div>
                                            <div className="detail-group">
                                                <h5>Primary Goals</h5>
                                                <ul style={{fontSize: '14px', color: '#4a5568', paddingLeft: '16px'}}>
                                                    {persona.goals.map((goal, i) => (
                                                        <li key={i}>{goal}</li>
                                                    ))}
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            <div className="analysis-section">
                                <h3>🔍 Behavioral Analysis</h3>
                                <div style={{display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '16px'}}>
                                    <div style={{background: 'white', borderRadius: '8px', padding: '16px'}}>
                                        <h4 style={{marginBottom: '8px', color: '#2d3748'}}>Motivations</h4>
                                        <ul style={{fontSize: '14px', color: '#4a5568', paddingLeft: '16px'}}>
                                            {segment.motivations.map((motivation, index) => (
                                                <li key={index}>{motivation}</li>
                                            ))}
                                        </ul>
                                    </div>
                                    <div style={{background: 'white', borderRadius: '8px', padding: '16px'}}>
                                        <h4 style={{marginBottom: '8px', color: '#2d3748'}}>Behaviors</h4>
                                        <ul style={{fontSize: '14px', color: '#4a5568', paddingLeft: '16px'}}>
                                            {segment.behaviors.map((behavior, index) => (
                                                <li key={index}>{behavior}</li>
                                            ))}
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div className="analysis-section">
                                <h3>💬 Messaging Strategies</h3>
                                <div className="messaging-strategies">
                                    {messagingStrategies.map((strategy, index) => (
                                        <div key={index} className="strategy-item">
                                            <div className="strategy-title">{strategy.title}</div>
                                            <div className="strategy-description">{strategy.description}</div>
                                            <div className="strategy-example">{strategy.example}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="analysis-section">
                                <h3>🎯 Conversion Optimization</h3>
                                <div style={{background: 'white', borderRadius: '8px', padding: '16px'}}>
                                    <div style={{marginBottom: '12px'}}>
                                        <strong>Recommended Actions:</strong>
                                    </div>
                                    <ul style={{fontSize: '14px', color: '#4a5568', paddingLeft: '16px', lineHeight: '1.6'}}>
                                        {segment.name === 'Trial Abandoners' && (
                                            <>
                                                <li>Implement progressive onboarding with 3-step maximum per screen</li>
                                                <li>Add "Skip for now" options on non-essential setup steps</li>
                                                <li>Create simplified "Essential" view hiding advanced features initially</li>
                                                <li>Add video tutorials for complex features rather than text</li>
                                            </>
                                        )}
                                        {segment.name === 'Power Customizers' && (
                                            <>
                                                <li>Fast-track to advanced features during onboarding</li>
                                                <li>Provide API documentation and integration examples early</li>
                                                <li>Offer "Power User" onboarding track</li>
                                                <li>Enable early access to beta features for this segment</li>
                                            </>
                                        )}
                                        {segment.name === 'Quick Starters' && (
                                            <>
                                                <li>Lead onboarding with template selection</li>
                                                <li>Pre-populate projects with sample data</li>
                                                <li>Show team collaboration features immediately</li>
                                                <li>Provide "Quick Win" checklist for first week</li>
                                            </>
                                        )}
                                        {segment.name === 'Enterprise Evaluators' && (
                                            <>
                                                <li>Provide security and compliance documentation upfront</li>
                                                <li>Offer dedicated implementation specialist</li>
                                                <li>Create enterprise-specific demo environment</li>
                                                <li>Schedule executive stakeholder presentations</li>
                                            </>
                                        )}
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div style={{marginTop: '24px', display: 'flex', justifyContent: 'flex-end', gap: '12px'}}>
                            <button 
                                onClick={onClose}
                                style={{
                                    padding: '10px 20px',
                                    background: '#f7fafc',
                                    border: '1px solid #e2e8f0',
                                    borderRadius: '8px',
                                    cursor: 'pointer'
                                }}
                            >
                                Close
                            </button>
                            <button 
                                style={{
                                    padding: '10px 20px',
                                    background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
                                    color: 'white',
                                    border: 'none',
                                    borderRadius: '8px',
                                    cursor: 'pointer'
                                }}
                            >
                                🎯 Create Targeted Campaign
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
